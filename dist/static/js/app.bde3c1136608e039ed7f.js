webpackJsonp([1],{"7Otq":function(e,t,n){e.exports=n.p+"static/img/logo.b022587.png"},"9CX6":function(e,t){},"9m3d":function(e,t){},F1FX:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),a=n("Dd8w"),s=n.n(a),o=n("NYxO"),i={name:"Navigation",props:{navItems:{type:Array,default:[],required:!0}},computed:s()({},Object(o.b)({currentUser:"currentUser"})),data:function(){return{query:null,searchPlaceholder:"ï€‚ Search Devos",loggedInNavLinks:[{linkName:"Categories",linkIcon:"navIcon fas fa-map-signs"},{linkName:"Popular",linkIcon:"navIcon fas fa-chart-line"},{linkName:"Profile",linkIcon:"navIcon fas fa-user"},{linkName:"Publish",linkIcon:"navIcon fas fa-plus-square"}]}},methods:{submitQuery:function(e){this.query=e.target.value,console.log(this.$router),this.$router.push({name:"SearchResults",params:{query:e.target.value}})}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"navbar"},[e._m(0),e._v(" "),r("router-link",{staticClass:"brand",attrs:{to:{name:"Homepage"}}},[r("img",{attrs:{src:n("7Otq"),alt:""}})]),e._v(" "),r("div",{staticClass:"navSearchBar"},[r("input",{attrs:{type:"text",placeholder:e.searchPlaceholder},domProps:{value:e.query},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submitQuery(t):null}}})]),e._v(" "),r("div",{staticClass:"right"},[e._l(e.loggedInNavLinks,function(t){return r("router-link",{key:t.linkName,staticClass:"link",attrs:{to:{name:t.linkName}}},[r("i",{class:t.linkIcon}),e._v(" "+e._s(t.linkName)+"\n      ")])}),e._v(" "),e.currentUser?e._e():r("router-link",{staticClass:"link",attrs:{to:e.Login}},[r("i",{staticClass:"navIcon fas fa-sign-in-alt"}),e._v(" Login\n      ")])],2)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"toggle",attrs:{href:"#",id:"navHamburger"}},[t("i",{staticClass:"fas fa-bars"})])}]};var l={name:"App",data:function(){return{pageElements:[1,2,3]}},components:{Navigation:n("VU/8")(i,u,!1,function(e){n("vl2e")},"data-v-927bf542",null).exports},computed:s()({},Object(o.b)({currentUser:"currentUser"}))},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Navigation",{attrs:{navItems:this.pageElements}}),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var m=n("VU/8")(l,c,!1,function(e){n("F1FX")},null,null).exports,d=n("/ocq"),p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"homepage-wrapper"},[t("h1",[this._v("You're on the homepage")])])}]};var h=n("VU/8")({name:"Homepage",data:function(){return{msg:"Welcome to Your Vue.js App"}}},p,!1,function(e){n("9m3d")},"data-v-a5169402",null).exports,f={name:"SearchResults",data:function(){return{query:null,results:[],gettingResults:!0}},beforeMount:function(){this.query=this.$route.params.query,this.getResults(this.query)},watch:{$route:function(e,t){console.log("watcher...")}},methods:{getResults:function(e){this.results=[],console.log(e)}}},v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Search results")])])}]};var g=n("VU/8")(f,v,!1,function(e){n("9CX6")},"data-v-3c656656",null).exports,_={name:"Login",data:function(){return{email:"",password:"",error:!1}},methods:{login:function(){var e=this;this.$http.post("/auth",{user:this.email,password:this.password}).then(function(t){return e.loginSuccessful(t)}).catch(function(){return e.loginFailed()})},loginSuccessful:function(e){e.data.token?(localStorage.token=e.data.token,this.$store.dispatch("login"),this.error=!1,this.$router.push({name:"SearchResults"})):this.loginFailed()},loginFailed:function(){this.error="Login failed!",this.$store.dispatch("logout"),delete localStorage.token}},computed:s()({},Object(o.b)({currentUser:"currentUser"}))},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Login")]),e._v(" "),e.error?n("div",[e._v(e._s(e.error))]):e._e(),e._v(" "),n("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password",required:"",autofocus:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("Login")])])])},staticRenderFns:[]};var y=n("VU/8")(_,k,!1,function(e){n("WDdP")},"data-v-9a494c52",null).exports;r.a.use(d.a);var b=new d.a({mode:"history",routes:[{path:"/",name:"Homepage",component:h},{path:"/search-results",name:"SearchResults",component:g},{path:"/login",name:"Login",component:y}]}),w=n("Rf8U"),N=n.n(w),I=n("mtWM"),U=n.n(I).a.create({baseURL:"https://open-devos-api.herokuapp.com",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.token}});r.a.use(N.a,U);var $,q=n("bOdI"),C=n.n(q),S=n("Zrlr"),L=n.n(S),O=n("wxAW"),R=n.n(O),x=n("ytdl"),E=n.n(x),F=function(){function e(t){var n=t.user_id,r=t.admin,a=t.email;L()(this,e),this.id=n,this.admin=r,this.email=a}return R()(e,null,[{key:"from",value:function(t){try{return new e(E()(t))}catch(e){return null}}}]),R()(e,[{key:"isAdmin",get:function(){return this.admin}}]),e}(),P={state:{user:F.from(localStorage.token)},mutations:($={},C()($,"LOGIN",function(e){e.user=F.from(localStorage.token)}),C()($,"LOGOUT",function(e){e.user=null}),$),getters:{currentUser:function(e){return e.user}},actions:{login:function(e){(0,e.commit)("LOGIN")},logout:function(e){(0,e.commit)("LOGOUT")}}};r.a.use(o.a);var A=new o.a.Store({modules:{auth:P}});r.a.config.productionTip=!1,new r.a({el:"#app",router:b,axios:void 0,store:A,components:{App:m},template:"<App/>"})},WDdP:function(e,t){},vl2e:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.bde3c1136608e039ed7f.js.map