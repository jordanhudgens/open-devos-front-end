webpackJsonp([1],{"7Otq":function(e,t,n){e.exports=n.p+"static/img/logo.b022587.png"},"9CX6":function(e,t){},DO6B:function(e,t){},F1FX:function(e,t){},IcPj:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),a=n("Dd8w"),s=n.n(a),i=n("NYxO"),o={name:"Navigation",props:{navItems:{type:Array,default:[],required:!0}},computed:s()({},Object(i.b)({currentUser:"currentUser"})),created:function(){console.log(this.currentUser)},data:function(){return{query:null,searchPlaceholder:"ï€‚ Search Devos",loggedInNavLinks:[{linkName:"Categories",linkIcon:"navIcon fas fa-map-signs"},{linkName:"Popular",linkIcon:"navIcon fas fa-chart-line"},{linkName:"Profile",linkIcon:"navIcon fas fa-user"},{linkName:"Publish",linkIcon:"navIcon fas fa-plus-square"}]}},methods:{submitQuery:function(e){this.query=e.target.value,console.log(this.$router),this.$router.push({name:"SearchResults",params:{query:e.target.value}})}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"navbar"},[e._m(0),e._v(" "),r("router-link",{staticClass:"brand",attrs:{to:{name:"Homepage"}}},[r("img",{attrs:{src:n("7Otq"),alt:""}})]),e._v(" "),r("div",{staticClass:"navSearchBar"},[r("input",{attrs:{type:"text",placeholder:e.searchPlaceholder},domProps:{value:e.query},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submitQuery(t):null}}})]),e._v(" "),r("div",{staticClass:"right"},[e._l(e.loggedInNavLinks,function(t){return r("router-link",{key:t.linkName,staticClass:"link",attrs:{to:{name:t.linkName}}},[r("i",{class:t.linkIcon}),e._v(" "+e._s(t.linkName)+"\n      ")])}),e._v(" "),e.currentUser?e._e():r("router-link",{staticClass:"link",attrs:{to:{name:"Login"}}},[r("i",{staticClass:"navIcon fas fa-sign-in-alt"}),e._v(" Login\n      ")])],2)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"toggle",attrs:{href:"#",id:"navHamburger"}},[t("i",{staticClass:"fas fa-bars"})])}]};var c={name:"App",data:function(){return{pageElements:[1,2,3]}},components:{Navigation:n("VU/8")(o,u,!1,function(e){n("DO6B")},"data-v-8d3d9b2c",null).exports},computed:s()({},Object(i.b)({currentUser:"currentUser"}))},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Navigation",{attrs:{navItems:this.pageElements}}),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var h=n("VU/8")(c,l,!1,function(e){n("F1FX")},null,null).exports,m=n("/ocq"),d={name:"Homepage",computed:s()({},Object(i.b)({currentUser:"currentUser"})),data:function(){return{msg:"Welcome to Your Vue.js App"}}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"homepage-wrapper"},[t("h1",[this._v("You're on the homepage")]),this._v(" "),this.currentUser?t("div",[this._v("\n    "+this._s(this.currentUser.email)+"\n  ")]):this._e()])},staticRenderFns:[]};var p=n("VU/8")(d,f,!1,function(e){n("TxQb")},"data-v-2f22a020",null).exports,v={name:"SearchResults",data:function(){return{query:null,results:[],gettingResults:!0}},beforeMount:function(){this.query=this.$route.params.query,this.getResults(this.query)},watch:{$route:function(e,t){console.log("watcher...")}},methods:{getResults:function(e){this.results=[],console.log(e)}}},g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Search results")])])}]};var _=n("VU/8")(v,g,!1,function(e){n("9CX6")},"data-v-3c656656",null).exports,k={name:"Login",data:function(){return{email:"",password:"",error:!1}},methods:{login:function(){var e=this;this.$http.post("/auth",{user:this.email,password:this.password}).then(function(t){return e.loginSuccessful(t)}).catch(function(){return e.loginFailed()})},loginSuccessful:function(e){e.data.token?(localStorage.token=e.data.token,this.$store.dispatch("login"),this.error=!1,this.$router.push({name:"SearchResults"})):this.loginFailed()},loginFailed:function(){this.error="Login failed!",this.$store.dispatch("logout"),delete localStorage.token}},computed:s()({},Object(i.b)({currentUser:"currentUser"}))},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Login")]),e._v(" "),e.error?n("div",[e._v(e._s(e.error))]):e._e(),e._v(" "),n("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password",required:"",autofocus:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("Login")])])])},staticRenderFns:[]};var y=n("VU/8")(k,b,!1,function(e){n("WDdP")},"data-v-9a494c52",null).exports,U={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Categories")])])}]};var w=n("VU/8")({name:"Categories",data:function(){return{}}},U,!1,function(e){n("w1uc")},"data-v-1963dfde",null).exports,P={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Popular")])])}]};var $=n("VU/8")({name:"Popular",data:function(){return{}}},P,!1,function(e){n("q7fG")},"data-v-276b4463",null).exports,E={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Profile")])])}]};var I=n("VU/8")({name:"Profile",data:function(){return{}}},E,!1,function(e){n("IcPj")},"data-v-4d0f0d33",null).exports,N={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Publish")])])}]};var x=n("VU/8")({name:"Publish",data:function(){return{}}},N,!1,function(e){n("per1")},"data-v-432afb4e",null).exports;r.a.use(m.a);var C=new m.a({mode:"history",routes:[{path:"/",name:"Homepage",component:p},{path:"/search-results",name:"SearchResults",component:_},{path:"/login",name:"Login",component:y},{path:"/categories",name:"Categories",component:w},{path:"/popular",name:"Popular",component:$},{path:"/profile",name:"Profile",component:I},{path:"/publish",name:"Publish",component:x}]}),R=n("Rf8U"),q=n.n(R),O=n("mtWM"),F=n.n(O).a.create({baseURL:"https://open-devos-api.herokuapp.com",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.token}});r.a.use(q.a,F);var S,L=n("bOdI"),V=n.n(L),j=n("Zrlr"),A=n.n(j),D=n("wxAW"),G=n.n(D),H=n("ytdl"),T=n.n(H),W=function(){function e(t){var n=t.user_id,r=t.admin,a=t.email;A()(this,e),this.id=n,this.admin=r,this.email=a}return G()(e,null,[{key:"from",value:function(t){try{return new e(T()(t))}catch(e){return null}}}]),G()(e,[{key:"isAdmin",get:function(){return this.admin}}]),e}(),B={state:{user:W.from(localStorage.token)},mutations:(S={},V()(S,"LOGIN",function(e){e.user=W.from(localStorage.token)}),V()(S,"LOGOUT",function(e){e.user=null}),S),getters:{currentUser:function(e){return e.user}},actions:{login:function(e){(0,e.commit)("LOGIN")},logout:function(e){(0,e.commit)("LOGOUT")}}};r.a.use(i.a);var Q=new i.a.Store({modules:{auth:B}});r.a.config.productionTip=!1,new r.a({el:"#app",router:C,axios:void 0,store:Q,components:{App:h},template:"<App/>"})},TxQb:function(e,t){},WDdP:function(e,t){},per1:function(e,t){},q7fG:function(e,t){},w1uc:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.fb30b80df479e389c879.js.map